```uml
@startuml
opt 未登録
ユーザー -> Webサーバー : ユーザー登録
Webサーバー -> DBサーバー : ユーザー登録
DBサーバー -> DBサーバー : 登録処理
DBサーバー -> Webサーバー : 登録結果

  alt 登録成功
    Webサーバー -> ユーザー : 登録メッセージを表示
  else 登録失敗
    Webサーバー -> ユーザー : 失敗メッセージを表示
  end
end

@startuml
ユーザー -> Webサーバー : ログイン
Webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> Webサーバー : 認証結果

activate ユーザー
  alt 認証成功
    Webサーバー -> ユーザー : ユーザー名表示
  else
    Webサーバー -> ユーザー : 失敗メッセージを表示
  end
opt ログイン中
ユーザー -> Webサーバー : ログアウト
Webサーバー -> DBサーバー : ログアウト照会
DBサーバー -> DBサーバー : ログアウト処理
DBサーバー -> Webサーバー : ログアウト結果
Webサーバー -> ユーザー : ログアウト結果
end

ユーザー -> Webサーバー : 商品検索
Webサーバー -> DBサーバー : 商品検索照会
DBサーバー -> DBサーバー : 商品検索処理
DBサーバー -> Webサーバー : 商品検索結果
Webサーバー -> ユーザー : 商品検索結果
@enduml
```
